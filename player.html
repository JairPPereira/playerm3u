<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player de Vídeo</title>
    <!-- Adicione os arquivos necessários do video.js -->
    <link href="https://vjs.zencdn.net/7.14.3/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.14.3/video.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.15.0/videojs-contrib-hls.js" integrity="sha512-UILPODLUJKA624A9/OruLNgBsMOYv+ON5Mw8f3ZKK+QTjxjncEtinZw9nVecHl4Vzd1+eOlEcGLqjpaQrIy49g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 
</head>
<body>
    <!-- Container para o player de vídeo -->
    <video id="meuVideo" class="video-js vjs-default-skin" controls width="640" height="360">
        <!-- Fontes de vídeo -->
        <source src="" type="">
        <source src="" type="">
        <!-- Adicione mais fontes conforme necessário para suporte a diferentes formatos -->
    </video>

    <script>
        // Função para configurar e reproduzir o vídeo
        function reproduzirVideo(url) {
            var meuVideo = videojs('meuVideo');

            // Limpar fontes existentes
            meuVideo.src('');
            
            // Adicionar nova fonte
            meuVideo.src({
                type: '',

                src: url
            });
 
            // Reproduzir o vídeo
            meuVideo.play();
        }

        // Chamar a função de reprodução ao carregar a página
        window.onload = function () {
            // Obter o URL do vídeo da query string
            var urlVideo = obterParametroURL('video');

            // Reproduzir o vídeo
            reproduzirVideo(urlVideo);
        };
        

        // Função para obter parâmetros da URL
        function obterParametroURL(nome) {
            nome = nome.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + nome + '=([^&#]*)');
            var resultados = regex.exec(location.search);
            return resultados === null ? '' : decodeURIComponent(resultados[1].replace(/\+/g, ' '));
        }
    </script>
</body>
</html>
